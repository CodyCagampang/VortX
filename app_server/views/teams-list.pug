extends layout

block content
  h1= pageHeader.title
  p= pageHeader.strapline

  h2= teams[0].name
  table
    thead
      tr
        th Name
        th Height  
        th Position
        th Age
    tbody
      each player in teams[0].players
        tr
          td= player.name
          td= player.height
          td= player.position
          td= player.age

  button(onclick="prev()") Back
  button(onclick="next()") Next

  script.
    let n = 0
    const teams = !{JSON.stringify(teams)} // Used ChatGPT to track each team and loop back and forth
    
    function next() {
      if (n < teams.length - 1) {
        n++
        show()
      }
    }
    
    function prev() {
      if (n > 0) {
        n--
        show()
      }
    }
    
    function show() {
      document.querySelector('h2').textContent = teams[n].name
      const tbody = document.querySelector('tbody')
      tbody.innerHTML = teams[n].players.map(p => 
        `<tr><td>${p.name}</td><td>${p.height}</td><td>${p.position}</td><td>${p.age}</td></tr>`
      ).join('')
    }